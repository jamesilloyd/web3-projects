[{"/Users/heisenberg/Projects/web3/hello-world/react/hello-world-part-four-tutorial/starter-files/src/index.js":"1","/Users/heisenberg/Projects/web3/hello-world/react/hello-world-part-four-tutorial/starter-files/src/App.js":"2","/Users/heisenberg/Projects/web3/hello-world/react/hello-world-part-four-tutorial/starter-files/src/reportWebVitals.js":"3","/Users/heisenberg/Projects/web3/hello-world/react/hello-world-part-four-tutorial/starter-files/src/HelloWorld.js":"4","/Users/heisenberg/Projects/web3/hello-world/react/hello-world-part-four-tutorial/starter-files/src/util/interact.js":"5"},{"size":500,"mtime":1650919075829,"results":"6","hashOfConfig":"7"},{"size":182,"mtime":1650919075828,"results":"8","hashOfConfig":"7"},{"size":362,"mtime":1650919075830,"results":"9","hashOfConfig":"7"},{"size":3213,"mtime":1650922109922,"results":"10","hashOfConfig":"7"},{"size":3454,"mtime":1650922036962,"results":"11","hashOfConfig":"7"},{"filePath":"12","messages":"13","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"14"},"17pjmtt",{"filePath":"15","messages":"16","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"14"},{"filePath":"17","messages":"18","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"14"},{"filePath":"19","messages":"20","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"21"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"24"},"/Users/heisenberg/Projects/web3/hello-world/react/hello-world-part-four-tutorial/starter-files/src/index.js",[],["25","26"],"/Users/heisenberg/Projects/web3/hello-world/react/hello-world-part-four-tutorial/starter-files/src/App.js",[],"/Users/heisenberg/Projects/web3/hello-world/react/hello-world-part-four-tutorial/starter-files/src/reportWebVitals.js",[],"/Users/heisenberg/Projects/web3/hello-world/react/hello-world-part-four-tutorial/starter-files/src/HelloWorld.js",["27","28","29"],"import React from \"react\";\nimport { useEffect, useState } from \"react\";\nimport {\n  helloWorldContract,\n  connectWallet,\n  updateMessage,\n  loadCurrentMessage,\n  getCurrentWalletConnected,\n} from \"./util/interact.js\";\n\nimport alchemylogo from \"./alchemylogo.svg\";\n\nconst HelloWorld = () => {\n  //state variables\n  const [walletAddress, setWallet] = useState(\"\");\n  const [status, setStatus] = useState(\"\");\n  const [message, setMessage] = useState(\"No connection to the network.\"); //default message\n  const [newMessage, setNewMessage] = useState(\"\");\n\n  //called only once\n  useEffect(async () => {\n    const message = await loadCurrentMessage();\n    setMessage(message);\n    addSmartContractListener();\n\n    const {address, status} = await getCurrentWalletConnected();\n    setWallet(address);\n    setStatus(status);\n\n    addWalletListener();\n    \n  }, []);\n\n  function addSmartContractListener() { \n    helloWorldContract.events.UpdatedMessages({}, (error, data) => {\n      if (error) {\n        setStatus(\"üò• \" + error.message);\n      } else {\n        setMessage(data.returnValues[1]);\n        setNewMessage(\"\");\n        setStatus(\"üéâ Your message has been updated!\");\n      }\n    });\n    \n  }\n\n  function addWalletListener() { \n    if (window.ethereum) {\n      window.ethereum.on(\"accountsChanged\", (accounts) => {\n        if (accounts.length > 0) {\n          setWallet(accounts[0]);\n          setStatus(\"üëÜüèΩ Write a message in the text-field above.\");\n        } else {\n          setWallet(\"\");\n          setStatus(\"ü¶ä Connect to Metamask using the top right button.\");\n        }\n      });\n    } else {\n      setStatus(\n        <p>\n          {\" \"}\n          ü¶ä{\" \"}\n          <a target=\"_blank\" href={`https://metamask.io/download.html`}>\n            You must install Metamask, a virtual Ethereum wallet, in your\n            browser.\n          </a>\n        </p>\n      );\n    }\n  }\n\n  const connectWalletPressed = async () => { \n    \n    const walletResponse = await connectWallet();\n    setStatus(walletResponse.status);\n    setWallet(walletResponse.address);\n    \n  };\n\n  const onUpdatePressed = async () => { \n    const { status } = await updateMessage(walletAddress, newMessage);\n    setStatus(status);\n    \n  };\n\n  //the UI of our component\n  return (\n    <div id=\"container\">\n      <img id=\"logo\" src={alchemylogo}></img>\n      <button id=\"walletButton\" onClick={connectWalletPressed}>\n        {walletAddress.length > 0 ? (\n          \"Connected: \" +\n          String(walletAddress).substring(0, 6) +\n          \"...\" +\n          String(walletAddress).substring(38)\n        ) : (\n          <span>Connect Wallet</span>\n        )}\n      </button>\n\n      <h2 style={{ paddingTop: \"50px\" }}>Current Message:</h2>\n      <p>{message}</p>\n\n      <h2 style={{ paddingTop: \"18px\" }}>New Message:</h2>\n\n      <div>\n        <input\n          type=\"text\"\n          placeholder=\"Update the message in your smart contract.\"\n          onChange={(e) => setNewMessage(e.target.value)}\n          value={newMessage}\n        />\n        <p id=\"status\">{status}</p>\n\n        <button id=\"publish\" onClick={onUpdatePressed}>\n          Update\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default HelloWorld;\n","/Users/heisenberg/Projects/web3/hello-world/react/hello-world-part-four-tutorial/starter-files/src/util/interact.js",["30"],"require('dotenv').config();\nconst alchemyKey = process.env.REACT_APP_ALCHEMY_KEY;\nconst { createAlchemyWeb3 } = require(\"@alch/alchemy-web3\");\nconst web3 = createAlchemyWeb3(alchemyKey);\nconst contractABI = require(\"../contract-abi.json\");\nconst contractAddress = \"0x11AacaFde38E182A8879c2D4da99c6245584620D\";\n\nexport const helloWorldContract = new web3.eth.Contract(\n    contractABI,\n    contractAddress\n  );\n\nexport const loadCurrentMessage = async () => { \n    const message = await helloWorldContract.methods.message().call();\n    return message;\n  \n};\n\nexport const connectWallet = async () => {\n\n    if (window.ethereum) {\n        try {\n          const addressArray = await window.ethereum.request({\n            method: \"eth_requestAccounts\",\n          });\n          const obj = {\n            status: \"üëÜüèΩ Write a message in the text-field above.\",\n            address: addressArray[0],\n          };\n          return obj;\n        } catch (err) {\n          return {\n            address: \"\",\n            status: \"üò• \" + err.message,\n          };\n        }\n      } else {\n        return {\n          address: \"\",\n          status: (\"ü¶ä You must install Metamask, a virtual Ethereum wallet, in your browser.\"\n    \n    ), }; } \n  \n};\n\nexport const getCurrentWalletConnected = async () => {\n\n    if (window.ethereum) {\n        try {\n            const addressArray = await window.ethereum.request({\n              method: \"eth_accounts\",\n            });\n            if (addressArray.length > 0) {\n              return {\n                address: addressArray[0],\n                status: \"üëÜüèΩ Write a message in the text-field above.\",\n              };\n            } else {\n              return {\n                address: \"\",\n                status: \"ü¶ä Connect to Metamask using the top right button.\",\n              };\n            }\n        } catch (err) {\n          return {\n            address: \"\",\n            status: \"üò• \" + err.message,\n          };\n        }\n      } else {\n        return {\n          address: \"\",\n          status: (\"ü¶ä You must install Metamask, a virtual Ethereum wallet, in your browser.\"\n    \n    ), }; } \n  \n};\n\nexport const updateMessage = async (address, message) => {\n\n    if (!window.ethereum || address === null) {\n        return {\n          status:\n            \"üí° Connect your Metamask wallet to update the message on the blockchain.\",\n        };\n      }\n    \n      if (message.trim() === \"\") {\n        return {\n          status: \"‚ùå Your message cannot be an empty string.\",\n        };\n      }\n\n      //set up transaction parameters\n const transactionParameters = {\n    to: contractAddress, // Required except during contract publications.\n    from: address, // must match user's active address.\n    data: helloWorldContract.methods.update(message).encodeABI(),\n  };\n\n//sign the transaction\n  try {\n    const txHash = await window.ethereum.request({\n      method: \"eth_sendTransaction\",\n      params: [transactionParameters],\n    });\n    return {\n      status: (\n\n        <span>\n        ‚úÖ{\" \"}\n        <a target=\"_blank\" href={`https://ropsten.etherscan.io/tx/${txHash}`}>\n          View the status of your transaction on Etherscan!\n        </a>\n        <br />\n        ‚ÑπÔ∏è Once the transaction is verified by the network, the message will\n        be updated automatically.\n      </span>\n\n      ),\n    };\n  } catch (error) {\n    return {\n      status: \"üò• \" + error.message,\n    };\n  }\n  \n};\n",{"ruleId":"31","replacedBy":"32"},{"ruleId":"33","replacedBy":"34"},{"ruleId":"35","severity":1,"message":"36","line":21,"column":13,"nodeType":"37","endLine":32,"endColumn":4},{"ruleId":"38","severity":1,"message":"39","line":63,"column":11,"nodeType":"40","endLine":63,"endColumn":73},{"ruleId":"41","severity":1,"message":"42","line":89,"column":7,"nodeType":"40","endLine":89,"endColumn":40},{"ruleId":"38","severity":1,"message":"39","line":112,"column":9,"nodeType":"40","endLine":112,"endColumn":79},"no-native-reassign",["43"],"no-negated-in-lhs",["44"],"react-hooks/exhaustive-deps","Effect callbacks are synchronous to prevent race conditions. Put the async function inside:\n\nuseEffect(() => {\n  async function fetchData() {\n    // You can await here\n    const response = await MyAPI.getData(someId);\n    // ...\n  }\n  fetchData();\n}, [someId]); // Or [] if effect doesn't need props or state\n\nLearn more about data fetching with Hooks: https://reactjs.org/link/hooks-data-fetching","ArrowFunctionExpression","react/jsx-no-target-blank","Using target=\"_blank\" without rel=\"noreferrer\" is a security risk: see https://html.spec.whatwg.org/multipage/links.html#link-type-noopener","JSXOpeningElement","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","no-global-assign","no-unsafe-negation"]